<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/admin.css" rel="stylesheet">
</head>
<body class="admin-body">
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="admin-container">
            <div class="admin-nav-brand">
                <a href="/admin" class="admin-brand-link">
                    <span class="logo-icon">âš¡</span>
                    <span>EMRON Admin</span>
                </a>
            </div>
            
            <nav class="admin-nav">
                <a href="/" class="admin-nav-link" target="_blank">
                    <i class="fas fa-external-link-alt"></i> View Site
                </a>
                <a href="/admin" class="admin-nav-link">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </nav>
        </div>
    </header>

    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <nav class="admin-sidebar-nav">
                <a href="/admin" class="admin-sidebar-link <%= currentUrl === '/admin' ? 'active' : '' %>">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="/admin/products" class="admin-sidebar-link <%= currentUrl.startsWith('/admin/products') ? 'active' : '' %>">
                    <i class="fas fa-box"></i>
                    <span>Products</span>
                </a>
                <a href="/admin/products/add" class="admin-sidebar-link">
                    <i class="fas fa-plus"></i>
                    <span>Add Product</span>
                </a>
                <a href="/admin/categories" class="admin-sidebar-link">
                    <i class="fas fa-tags"></i>
                    <span>Categories</span>
                </a>
                <a href="/admin/settings" class="admin-sidebar-link">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Alerts -->
            <% if (typeof success !== 'undefined' && success) { %>
                <div class="admin-alert admin-alert-success">
                    <i class="fas fa-check-circle"></i>
                    <%= success %>
                </div>
            <% } %>
            
            <% if (typeof error !== 'undefined' && error) { %>
                <div class="admin-alert admin-alert-error">
                    <i class="fas fa-exclamation-circle"></i>
                    <%= error %>
                </div>
            <% } %>

            <%- body %>
        </main>
    </div>

    <script src="/js/admin.js"></script>
</body>
</html>